<div class="card">
  <div class="settings-section">
    <h4>日志记录</h4>
    <p class="settings-description">在此查看扩展运行日志，可按等级、来源、关键词与时间范围进行筛选，并支持仅显示包含详细数据的日志。</p>
    
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
      <div class="log-view-switch">
        <button id="log-view-ext" class="switch-btn active" title="显示扩展持久化日志">扩展日志</button>
        <button id="log-view-console" class="switch-btn" title="显示控制台即时输出（不持久化）">控制台日志</button>
      </div>
      <div class="log-actions" style="display: flex; gap: 8px;">
        <button id="refresh-logs-button" class="primary">刷新</button>
        <button id="clear-logs-button" class="danger">清空日志</button>
        <button id="export-logs-button" class="button is-light">导出</button>
      </div>
    </div>

    <div class="log-filters">
      <div class="filter-group" style="flex: 1; min-width: 240px;">
        <label for="log-search-input">关键词搜索</label>
        <input id="log-search-input" type="search" placeholder="搜索消息或详细数据..." />
      </div>
      <div class="filter-group">
        <label for="log-level-filter">日志级别</label>
        <select id="log-level-filter">
          <option value="ALL">全部</option>
          <option value="INFO">信息</option>
          <option value="WARN">警告</option>
          <option value="ERROR">错误</option>
          <option value="DEBUG">调试</option>
        </select>
      </div>
      <div class="filter-group">
        <label for="log-category-filter">日志类别</label>
        <select id="log-category-filter">
          <option value="ALL">全部类别</option>
          <option value="CORE">核心</option>
          <option value="ORCHESTRATOR">编排器</option>
          <option value="STORAGE">存储</option>
          <option value="ACTOR">演员</option>
          <option value="MAGNET">磁力</option>
          <option value="SYNC">同步</option>
          <option value="NEWWORKS">新作品</option>
          <option value="DRIVE115">115网盘</option>
          <option value="PRIVACY">隐私</option>
          <option value="AI">AI</option>
          <option value="UPDATE">更新</option>
          <option value="HELP">帮助</option>
          <option value="SETTINGS">设置</option>
          <option value="GENERAL">常规</option>
          <option value="DEBUG">调试</option>
          <option value="DB">数据库</option>
          <option value="BG">后台</option>
          <option value="CONTENT">内容脚本</option>
        </select>
      </div>
      <div class="filter-group">
        <label>日期范围（起）</label>
        <input id="log-start-date" type="date" />
      </div>
      <div class="filter-group">
        <label>日期范围（止）</label>
        <input id="log-end-date" type="date" />
      </div>
      <div class="filter-group" style="align-self: flex-end;">
        <label for="log-has-data-only">仅含详细数据</label>
        <input id="log-has-data-only" type="checkbox" />
      </div>
    </div>

    <div class="log-container">
      <div id="log-body">
        <!-- Log entries will be inserted here -->
      </div>
      <div id="console-log-body" class="console-log-container" style="display:none;">
        <!-- Console log entries will be inserted here -->
      </div>
    </div>

    <!-- 日志条数信息 -->
    <div id="logsCountInfo" class="pagination-info"></div>

    <div class="pagination-controls">
      <div class="pagination" id="logsPagination">
        <!-- 分页控件将由 JS 动态填充 -->
      </div>
      <div class="records-per-page-selector">
        <label for="logsPerPageSelect">每页显示:</label>
        <select id="logsPerPageSelect">
          <option value="10">10</option>
          <option value="20" selected>20</option>
          <option value="50">50</option>
          <option value="100">100</option>
        </select>
      </div>
    </div>
  </div>
</div>
